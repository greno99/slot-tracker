<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino Tracker Overlay</title>
    <link rel="stylesheet" href="overlay.css">
</head>
<body>
    <div class="overlay-container" id="overlay">
        <div class="overlay-header">
            <div class="status-dot status-inactive" id="statusDot"></div>
            <span class="overlay-title">Casino Tracker Pro</span>
            <div class="header-controls">
                <button class="minimize-btn" id="minimizeBtn">-</button>
                <button class="close-btn" id="closeBtn">√ó</button>
            </div>
        </div>
        
        <div class="overlay-content" id="content">
            <!-- Aktuelles Spiel - IMPROVED -->
            <div class="game-section">
                <div class="detected-game" id="currentGame">Kein Spiel aktiv</div>
                <div class="quick-input">
                    <input type="text" class="input-field" id="gameInput" placeholder="Spielname eingeben..." autocomplete="off" tabindex="1">
                    <button class="btn" id="setGameBtn">Set</button>
                </div>
                <div class="input-hint">üìù Spielname hier eingeben und Enter dr√ºcken</div>
            </div>
            
            <!-- Session Controls -->
            <div class="session-controls">
                <button class="btn" id="startBtn">Start</button>
                <button class="btn" id="pauseBtn">Pause</button>
                <button class="btn btn-danger" id="stopBtn">Stop</button>
            </div>
            
            <!-- NEW: Current Bet Display -->
            <div class="current-bet-section">
                <div class="current-bet-label">Aktueller Einsatz:</div>
                <div class="current-bet-amount" id="currentBetAmount">‚Ç¨1.00</div>
            </div>
            
            <!-- Quick Add - IMPROVED -->
            <div style="margin-bottom: 15px;">
                <div class="quick-input">
                    <input type="number" class="input-field" id="betInput" placeholder="Einsatz eingeben..." step="0.01" min="0" autocomplete="off">
                    <button class="btn" id="addBetBtn">Bet</button>
                </div>
                <div class="wheel-hint">üñ±Ô∏è Mausrad f√ºr ¬±‚Ç¨0.10 ‚Ä¢ Enter-Taste zum Best√§tigen</div>
                
                <!-- NEW: Auto-detect section -->
                <div class="auto-detect-section">
                    <div class="auto-detect-controls">
                        <button class="btn btn-secondary" id="autoDetectBtn">Auto: OFF</button>
                        <div class="auto-detect-indicator">
                            <div class="status-dot status-inactive" id="autoDetectIndicator"></div>
                            <span class="auto-detect-text">Gewinn-Erkennung</span>
                        </div>
                    </div>
                </div>
                
                <div class="quick-input">
                    <input type="number" class="input-field" id="winInput" placeholder="Gewinn eingeben..." step="0.01" min="0" autocomplete="off">
                    <button class="btn" id="addWinBtn">Win</button>
                </div>
                <div class="wheel-hint">üñ±Ô∏è Mausrad f√ºr ¬±‚Ç¨0.50 ‚Ä¢ Enter-Taste zum Best√§tigen</div>
            </div>
            
            <!-- Session Stats -->
            <div class="session-section">
                <div class="session-info">
                    <div class="info-item">
                        <div class="info-label">Spins</div>
                        <div class="info-value" id="spinCount">0</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Zeit</div>
                        <div class="info-value" id="sessionTime">00:00</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Einsatz</div>
                        <div class="info-value" id="totalBet">‚Ç¨0.00</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Profit</div>
                        <div class="info-value profit-positive" id="totalWin">‚Ç¨0.00</div>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="info-label">RTP</div>
                        <div class="info-value" id="rtpValue">0%</div>
                    </div>
                    <div class="stat-item">
                        <div class="info-label">Best Win</div>
                        <div class="info-value" id="bestWin">‚Ç¨0</div>
                    </div>
                    <div class="stat-item">
                        <div class="info-label">Avg Bet</div>
                        <div class="info-value" id="avgBet">‚Ç¨0.00</div>
                    </div>
                </div>
            </div>
            
            <!-- Letzte Spins -->
            <div style="margin-bottom: 15px;">
                <div style="font-weight: bold; margin-bottom: 8px; font-size: 11px;">Letzte Spins:</div>
                <div class="last-spins" id="lastSpins">
                    <!-- Wird dynamisch gef√ºllt -->
                </div>
            </div>
            
            <!-- Export -->
            <div class="session-controls" style="grid-template-columns: 1fr 1fr;">
                <button class="btn" id="exportBtn">Export</button>
                <button class="btn" id="statsBtn">Stats</button>
            </div>
            
            <!-- Hotkeys Info - UPDATED -->
            <div class="hotkeys-section">
                <div class="hotkey-grid">
                    <div>F1 - Quick Spin</div>
                    <div>F5 - Toggle Pause</div>
                    <div>F2 - Smart Win</div>
                    <div>F6 - Screenshot</div>
                    <div>F3 - Set Game</div>
                    <div>F7 - Debug Info</div>
                    <div>F4 - Export Data</div>
                    <div>F8 - Reset Session</div>
                </div>
                <div style="margin-top: 4px; font-size: 8px;">
                    Ctrl+Shift+O - Overlay Toggle ‚Ä¢ F9 - Click Through
                </div>
                <div style="margin-top: 2px; font-size: 8px; color: rgba(255,255,255,0.5);">
                    üí° F2 mit Auto-Detect f√ºr intelligente Gewinn-Erkennung
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>
    <script src="overlay.js"></script>
</body>
</html>